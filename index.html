<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Motor de Ajedrez Dual - Motores vs Motores</title>
    
    <!-- Meta tags adicionales -->
    <meta name="description" content="Sistema de enfrentamiento entre motores de ajedrez con evaluaci√≥n Stockfish">
    <meta name="keywords" content="ajedrez, motores, stockfish, enfrentamiento, evaluaci√≥n">
    <meta name="author" content="Sistema de Ajedrez Dual">
    
    <!-- Optimizaci√≥n de carga -->
    <link rel="preconnect" href="https://cdnjs.cloudflare.com">
    
    <!-- Dependencias externas -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/chess.js/0.10.2/chess.min.js" onerror="alert('Error al cargar chess.js. Por favor, verifica tu conexi√≥n o intenta de nuevo.')"></script>
    
    <!-- Estilos locales -->
    <link rel="stylesheet" href="styles.css">
    
    <!-- Favicon -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>‚ôõ</text></svg>">
</head>
<body>
    <div class="container">
        <!-- ENCABEZADO -->
        <div class="header">
            <h1>üèÜ Motor de Ajedrez Dual</h1>
            <p class="subtitle">Enfrentamiento entre motores con evaluaci√≥n Stockfish</p>
        </div>

        <!-- SECCI√ìN DE CARGA DE MOTORES -->
        <div class="engine-upload-section">
            <div class="engines-grid">
                <!-- Motor Blancas -->
                <div class="engine-box" id="engineBoxWhite">
                    <h3>‚ö™ Motor Blancas</h3>
                    <input type="file" id="engineFileWhite" class="file-input" accept=".js,.txt">
                    <button onclick="document.getElementById('engineFileWhite').click()" class="upload-btn">
                        üìÅ Cargar Motor
                    </button>
                    <div class="engine-info" id="engineInfoWhite">
                        No hay motor cargado
                    </div>
                </div>

                <!-- Motor Negras -->
                <div class="engine-box" id="engineBoxBlack">
                    <h3>‚ö´ Motor Negras</h3>
                    <input type="file" id="engineFileBlack" class="file-input" accept=".js,.txt">
                    <button onclick="document.getElementById('engineFileBlack').click()" class="upload-btn">
                        üìÅ Cargar Motor
                    </button>
                    <div class="engine-info" id="engineInfoBlack">
                        No hay motor cargado
                    </div>
                </div>
            </div>

            <!-- CONTROLES DE PARTIDA -->
            <div class="game-controls">
                <button id="startGameBtn" class="btn btn-success" onclick="startGame()" disabled>
                    ‚ñ∂Ô∏è Iniciar Partida
                </button>
                <button id="pauseGameBtn" class="btn btn-warning" onclick="pauseGame()" disabled>
                    ‚è∏Ô∏è Pausar
                </button>
                <button id="stopGameBtn" class="btn btn-danger" onclick="stopGame()" disabled>
                    ‚èπÔ∏è Detener
                </button>
                <button class="btn btn-warning" onclick="resetGame()">
                    üîÑ Reiniciar
                </button>
            </div>
        </div>

        <!-- CONTENIDO PRINCIPAL -->
        <div class="main-content">
            <!-- TABLERO -->
            <div class="board-section">
                <div id="chessboard">
                    <div class="loading">
                        <h3>Carga ambos motores para comenzar</h3>
                        <p>Los motores deben implementar la funci√≥n <code>getMove(fen)</code></p>
                    </div>
                </div>
                <div id="gameStatus" class="game-status">
                    Esperando motores...
                </div>
            </div>

            <!-- PANEL DE INFORMACI√ìN -->
            <div class="info-panel">
                <!-- EVALUACI√ìN -->
                <div class="evaluation-section">
                    <div class="section-title">
                        ‚öñÔ∏è Evaluaci√≥n Stockfish
                    </div>
                    <div id="evaluationValue" class="evaluation-value eval-neutral">
                        --
                    </div>
                    <div id="evaluationDetails" class="evaluation-details">
                        Motor no conectado
                    </div>
                </div>

                <!-- ESTADO DE MOTORES -->
                <div class="engines-status">
                    <div class="section-title">
                        üîß Estado de Motores
                    </div>
                    <div class="engine-status">
                        <span class="engine-name">Motor Blancas:</span>
                        <span id="whiteEngineStatus" class="engine-ready">No cargado</span>
                    </div>
                    <div class="engine-status">
                        <span class="engine-name">Motor Negras:</span>
                        <span id="blackEngineStatus" class="engine-ready">No cargado</span>
                    </div>
                    <div class="engine-status">
                        <span class="engine-name">Stockfish:</span>
                        <span id="stockfishStatus" class="engine-ready">Desconectado</span>
                    </div>
                </div>

                <!-- HISTORIAL DE MOVIMIENTOS -->
                <div class="move-history">
                    <div class="section-title">
                        üìã Historial de Movimientos
                    </div>
                    <div id="moveHistory" class="move-list">
                        La partida no ha comenzado
                    </div>
                </div>

                <!-- ESTAD√çSTICAS DE PARTIDA -->
                <div class="game-stats">
                    <div class="section-title">
                        üìä Estad√≠sticas
                    </div>
                    <div class="stats-grid">
                        <div class="stat-item">
                            <span class="stat-label">Movimientos:</span>
                            <span id="moveCount" class="stat-value">0</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-label">Tiempo transcurrido:</span>
                            <span id="gameTime" class="stat-value">00:00</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-label">√öltima evaluaci√≥n:</span>
                            <span id="lastEval" class="stat-value">--</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- SECCI√ìN DE INFORMACI√ìN Y AYUDA -->
        <div class="help-section">
            <details>
                <summary>üìñ Formato de Motor Requerido</summary>
                <div class="help-content">
                    <h4>Tu motor debe implementar esta funci√≥n:</h4>
                    <pre><code>function getMove(fen, chess) {
    // Tu l√≥gica de ajedrez aqu√≠
    const moves = chess.moves();
    
    // Ejemplo: movimiento aleatorio
    const randomIndex = Math.floor(Math.random() * moves.length);
    return moves[randomIndex];
}</code></pre>
                    <p><strong>Par√°metros:</strong></p>
                    <ul>
                        <li><code>fen</code>: Posici√≥n actual en notaci√≥n FEN</li>
                        <li><code>chess</code>: Instancia de Chess.js para an√°lisis</li>
                    </ul>
                    <p><strong>Retorno:</strong> Movimiento en notaci√≥n SAN (ej: "e4", "Nf3", "O-O")</p>
                </div>
            </details>
        </div>
    </div>

    <!-- Scripts -->
    <script src="script.js"></script>
</body>
</html>